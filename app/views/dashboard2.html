<div id="dashboard" data-ng-controller="dashboard2">
    <div class="col-md-6 col1">
        <div class="row1 mb10">
            <div class="col-md-12 pl0 general-info">
                <div class="col-xs-4 bg">
                    <div class="value">
                        <strong ng-hide="loading1">{{total_nb_solcontrols}}</strong>
                        <div class="loader-inner ball-pulse" ng-hide="!loading1"><div></div><div></div><div></div></div>
                    </div>
                    <div class="title"><p>Systems</p></div>
                    <div class="vertical-line"></div>
                </div>

                <div class="col-xs-4">
                    <div class="value">
                        <strong>Tk 3500</strong>
                    </div>
                    <div class="title"><p>Average Oustanding Balance</p></div>
                    <div class="vertical-line"></div>
                </div>

                <div class="col-xs-4">
                    <div class="value"><strong>12 months</strong></div>
                    <div class="title"><p>Average Outstanding Payback Time</p></div>
                </div>
            </div>
        </div>
        <div class="row2 mb10">
            <div class="col-sm-8 pl0 pr0 mb10 map">
                <div class="panel mb0 bg-white">
                    <div id="map" style="height: 403px; width: 100%;">

                    </div>
                </div>
            </div>
            <div class="col-sm-4 percentage">
                <div class="panel bg-green mb5">
                    <div class="panel-heading border">
                        Solved Issues
                    </div>
                    <div class="panel-body text-center">
                        <div class="piechart" style="width: 80px; height: 80px;">
                          <div class="bounce_pie" easypiechart options="options" percent="percent_solved">
                            <div>
                              <div class="percent h4"></div>
                            </div>
                          </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-4 percentage">
                <div class="panel bg-yellow mb5">
                    <div class="panel-heading border">
                        System Warnings
                    </div>
                    <div class="panel-body text-center">
                        <div class="piechart" style="width: 80px; height: 80px;">
                          <div class="bounce_pie" easypiechart options="options" percent="percent_warning">
                            <div>
                              <div class="percent h4"></div>
                            </div>
                          </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-4 percentage">
                <div class="panel bg-red mb0">
                    <div class="panel-heading border">
                        Broken Systems
                    </div>
                    <div class="panel-body text-center">
                        <div class="piechart" style="width: 80px; height: 80px;">
                          <div class="bounce_pie" easypiechart options="options" percent="percent_broken">
                            <div>
                              <div class="percent h4"></div>
                            </div>
                          </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6 col2">
        <div class="row1 mb10">
            <div class="col-xs-4 figures pl0">
                <div class="panel-body">
                    <div class="left">
                        <div class="text">
                            <div class="loader-inner ball-pulse" ng-hide="!loading2"><div></div><div></div><div></div></div>
                            <span class="value" ng-hide="loading2">
                                <strong >{{total_nb_agents}}</strong>
                            </span><br>
                            <span>Agents</span>
                        </div>
                    </div>
                    <div class="right">
                        <div class="icon icon-agents"><img src="images/agent_icon.png"></img></div>
                    </div>
                </div>
            </div>
            <div class="col-xs-4 figures pl0">
                <div class="panel-body">
                    <div class="left">
                        <div class="text">
                            <div class="loader-inner ball-pulse" ng-hide="!loading3"><div></div><div></div><div></div></div>
                            <span class="value" ng-hide="loading3">
                                <strong >{{avg_nb_solcontrols_per_agent}}</strong>
                            </span><br>
                            <span>Systems / Agent</span>
                        </div>
                    </div>
                    <div class="right">
                        <div class="icon icon-sys-agent"><img src="images/solcontrol_icon.png"></img></div>
                    </div>
                </div>
            </div>
            <div class="col-xs-4 figures pl0 pr0">
                <div class="panel-body">
                    <div class="left">
                        <div class="text">
                            <span class="value">
                                <strong>18%</strong>
                            </span>
                            <br>
                            <span>Visited in past 30 days</span>
                        </div>
                    </div>
                    <div class="right">
                        <div class="icon icon-visited"><img src="images/visit_icon.png"></img></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row2 bg-warning-light mb10"></div>
        <div class="row3">
            <div class="panel">
                <canvas id="line" class="chart chart-line" chart-data="dailyVisitsData" chart-labels="dailyVisitsLabels" chart-series="dailyVisitsSeries" chart-options="dailyVisitsChartOptions" chart-click="onClick">
                </canvas>
                <!-- <input type="range" min="1" max="30" step="1" ng-model="weeks" ng-change="updateDates()"/>
                Last {{weeks}} weeks -->
                <button type="button" class="btn btn-xs btn-primary" ng-click="lastWeek()">Last Week</button>
                <button type="button" class="btn btn-xs btn-primary" ng-click="lastMonth()">Last Month</button>
                <button type="button" class="btn btn-xs btn-primary" ng-click="lastYear()">Last Year</button>
            </div>
        </div>
    </div>
</div>

<script>
    $(function(){
        var palette = ['#2ecc71', '#ffc65d', '#d96557'];
        generateColors = function(){
            var colors = {},
                key;

            for (key in map.regions) {
              colors[key] = palette[Math.floor(Math.random()*palette.length)];
            }
            return colors;
        },map;

        map = new jvm.Map({
            map: 'bangladesh',
            backgroundColor:  "#FFFFFF",
            container: $('#map'),
            series: {
              regions: [{
                attribute: 'fill'
              }]
            }
          });
        map.series.regions[0].setValues(generateColors());
    });
</script>
